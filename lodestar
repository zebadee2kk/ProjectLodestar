#!/bin/bash
# Project Lodestar Launcher for Linux/macOS

# Get the absolute path to the directory containing this script
SCRIPT_DIR="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"

# Set PYTHONPATH to include the project root
export PYTHONPATH="$SCRIPT_DIR"

# Check if the virtual environment exists
if [ -d "$SCRIPT_DIR/.venv" ]; then
    # Execute using the venv python without needing to activation
    "$SCRIPT_DIR/.venv/bin/python3" -m modules.cli "$@"
else
    # Fallback to system python3
    python3 -m modules.cli "$@"
fi
